@page
@using Extensions
@model IndexModel
@inject SignInManager<ApplicationUser> SignInManager
@{
    ViewData["Title"] = "Hem";
}

<div class="header-container d-flex align-items-center justify-content-between">
    <div class="left-side">
        <h1 class="header-title">
            <a asp-area="" asp-page="/Index">
                <img class="logo-img" src="~/img/logo/loggasg.png" alt="Sara Gustafsson logotype" />
            </a>
        </h1>
        <h2 class="header-text">Med hjärtat som kompass</h2>
    </div>

    <div class="right-side">
        <img class="right-img" src="~/img/logo/jagmedbarnen.png" alt="Bild till höger" />
    </div>
</div>

<div class="content-container d-flex mt-4">
    <div class="blog-posts flex-grow-1 me-3">
        @await Html.PartialAsync("Shared/_LatestPosts", Model.LatestPosts)
    </div>

    <div class="om-mig-box">
        <a asp-page="/OmMig" class="text-decoration-none">
            <div>
                @if (Model.AboutMe != null && !string.IsNullOrEmpty(Model.AboutMe.Image))
                {
                        <div class="d-flex align-items-start gap-4 aboutme-wrapper">
                        <img class="aboutme-img"
                             src="@(string.IsNullOrWhiteSpace(Model.AboutMe.Image) ? "/img/blogg/default.png" : Model.AboutMe.Image)"
                             onerror="this.onerror=null; this.src='/img/blogg/default.png';"
                             alt="Om Mig-bild" />
                        @* <img class="aboutme-img" src="~/img/aboutme/@Model.AboutMe.Image" alt="Om Mig-bild" /> *@
                        <div>
                            <h3>@Model.AboutMe.Title</h3>
                            <p class="linebreak">@Model.AboutMe.Content</p>
                        </div>
                    </div>
                }
                else
                {
                    <p>Om mig-sektionen är ännu inte skapad.</p>
                }
        </a>
    </div>
</div>


